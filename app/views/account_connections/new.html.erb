<!-- app/views/account_connect/new.html.erb -->

<%= render "shared/modal" do %>
  <% if params[:kind] %>

    <% if params[:kind] == "new" %>
      <%= render "new_user" %>
    <% elsif params[:kind] == "existing" %>
      <%= render "existing" %>
    <% end %>

  <% else %>

  <div data-controller="account-connect" class="mx-auto md:w-2/4">
    <div class="relative mx-auto">
      
      <div class="flex-col space-y-2">
        <%= link_to "New Artist", new_account_connection_path(kind: "new"), data: {turbo_frame: "modal"}, class: "p-4 flex justify-center border border-default hover:bg-emphasis" %>
        <%= link_to "Existing Artist", new_account_connection_path(kind: "existing"), data: {turbo_frame: "modal"}, class: "p-4 flex justify-center border border-default hover:bg-emphasis" %>
      </div>
      <!-- Dynamic content updated via Stimulus and ActionCable -->
      <%= turbo_frame_tag "dynamic-content" do %>
        <!-- Updated content goes here -->
      <% end %>
    
    </div>
  </div>

  <% end %>
<% end %>